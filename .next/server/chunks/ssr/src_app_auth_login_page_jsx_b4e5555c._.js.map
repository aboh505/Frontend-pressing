{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/depayyy/Aboh%27s%20Projets/pressing/frontend/src/app/auth/login/page.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { toast } from \"react-hot-toast\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { FaEye, FaEyeSlash, FaEnvelope, FaLock } from \"react-icons/fa\";\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [showPassword, setShowPassword] = useState(false);\n  \n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const redirect = searchParams.get(\"redirect\") || \"/reservation\";\n  const { login } = useAuth();\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!email) {\n      newErrors.email = \"L'email est requis\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      newErrors.email = \"Format d'email invalide\";\n    }\n    \n    if (!password) {\n      newErrors.password = \"Le mot de passe est requis\";\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    setLoading(true);\n    \n    try {\n      const result = await login(email, password);\n      \n      if (result.success) {\n        toast.success(\"Connexion réussie\");\n        router.push(redirect);\n      } else {\n        toast.error(result.error || \"Échec de la connexion\");\n        setErrors({ general: result.error || \"Email ou mot de passe incorrect\" });\n      }\n    } catch (error) {\n      console.error(\"Erreur de connexion:\", error);\n      toast.error(\"Erreur lors de la connexion\");\n      setErrors({ general: \"Erreur lors de la connexion au serveur\" });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-green-50 to-amber-50\">\n      <div className=\"max-w-3xl w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row bg-white\">\n        {/* Left side with gradient */}\n        <div className=\"md:w-2/5 bg-gradient-to-br from-amber-500 to-amber-300 p-8 flex flex-col justify-center relative overflow-hidden\">\n          {/* Design elements - diagonal stripes */}\n          <div className=\"absolute -top-10 -left-10 w-40 h-40 bg-amber-400 rotate-45 transform opacity-50\"></div>\n          <div className=\"absolute -bottom-10 -right-10 w-40 h-40 bg-amber-400 rotate-45 transform opacity-30\"></div>\n          \n          <div className=\"relative z-10 text-white text-center\">\n            <div className=\"mb-4\">\n              <div className=\"mx-auto w-16 h-16 flex items-center justify-center\">\n                <svg className=\"w-12 h-12\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M20 20 L50 50 L20 80 L50 50 L80 20 L50 50 L80 80 L50 50\" stroke=\"white\" strokeWidth=\"8\" strokeLinecap=\"round\" />\n                </svg>\n              </div>\n            </div>\n            <h2 className=\"text-xl font-bold uppercase mb-2\">SE CONNECTER</h2>\n            <div className=\"w-16 h-1 bg-white mx-auto mb-4\"></div>\n            {/* <p className=\"text-white/80 text-sm\">Se connecter</p> */}\n          </div>\n        </div>\n        \n        {/* Right side with form */}\n        <div className=\"md:w-3/5 p-8\">\n          <div className=\"mb-8 text-center md:text-left\">\n            <h1 className=\"text-2xl font-bold text-amber-600\">Se connecter</h1>\n          </div>\n          \n          {errors.general && (\n            <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm\">\n              {errors.general}\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\n                  <FaEnvelope className=\"text-amber-400\" />\n                </div>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className={`w-full pl-10 px-3 py-2.5 border-b-2 focus:outline-none focus:border-amber-400 transition-colors bg-transparent ${\n                    errors.email ? \"border-red-500\" : \"border-green-300\"\n                  }`}\n                  placeholder=\"Email\"\n                />\n              </div>\n              {errors.email && (\n                <p className=\"text-red-500 text-xs mt-1\">{errors.email}</p>\n              )}\n            </div>\n            \n            <div>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\n                  <FaLock className=\"text-amber-400\" />\n                </div>\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  id=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className={`w-full pl-10 px-3 py-2.5 border-b-2 focus:outline-none focus:border-amber-400 transition-colors bg-transparent ${\n                    errors.password ? \"border-red-500\" : \"border-green-300\"\n                  }`}\n                  placeholder=\"Mot de passe\"\n                />\n                <div \n                  className=\"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer\"\n                  onClick={() => setShowPassword(!showPassword)}\n                >\n                  {showPassword ? (\n                    <FaEyeSlash className=\"text-amber-500 hover:text-amber-600\" />\n                  ) : (\n                    <FaEye className=\"text-amber-500 hover:text-amber-600\" />\n                  )}\n                </div>\n              </div>\n              {errors.password && (\n                <p className=\"text-red-500 text-xs mt-1\">{errors.password}</p>\n              )}\n            </div>\n            \n           \n            \n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full py-3 px-4 rounded-full bg-amber-500 hover:bg-amber-600 text-white font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-amber-400 focus:ring-opacity-50\"\n            >\n              {loading ? \"Connexion en cours...\" : \"connexion\"}\n            </button>\n            \n           \n          </form>\n          \n          <div className=\"mt-6 text-center text-sm text-gray-500\">\n            Vous n'avez pas de compte ?{\" \"}\n            <Link href=\"/auth/register\" className=\"text-amber-600 hover:text-amber-700 font-medium\">\n              Inscrivez-vous\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}