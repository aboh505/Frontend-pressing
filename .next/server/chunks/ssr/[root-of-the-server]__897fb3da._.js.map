{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/depayyy/Aboh%27s%20Projets/pressing/frontend/src/app/components/Loader.jsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\n\nexport default function Loader() {\n  const [dots, setDots] = useState('.');\n  \n  useEffect(() => {\n    const interval = setInterval(() => {\n      setDots(prev => {\n        if (prev.length >= 3) return '.';\n        return prev + '.';\n      });\n    }, 500);\n    \n    return () => clearInterval(interval);\n  }, []);\n  \n  return (\n    <div className=\"fixed inset-0 flex items-center justify-center bg-white-600 z-50\">\n      <div className=\"text-center\">\n        <img \n          src=\"/logo.svg\" \n          alt=\"Océane Pressing\"\n          width={'600'} height={'500'}\n          className=\"w-100 h-40 object-contain mb-4\"\n        />\n      \n        <div className=\"text-green text-xl mt-4\">\n          Chargement.<span className=\"dots-animation\">{dots}</span>\n        </div>\n      </div>\n      <style jsx>{`\n        .dots-animation {\n          display: inline-block;\n          min-width: 30px;\n          text-align: left;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW,YAAY;YAC3B,QAAQ,CAAA;gBACN,IAAI,KAAK,MAAM,IAAI,GAAG,OAAO;gBAC7B,OAAO,OAAO;YAChB;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,qBACE,8OAAC;kDAAc;;0BACb,8OAAC;0DAAc;;kCACb,8OAAC;wBACC,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBAAO,QAAQ;kEACZ;;;;;;kCAGZ,8OAAC;kEAAc;;4BAA0B;0CAC5B,8OAAC;0EAAe;0CAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYvD","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///home/depayyy/Aboh%27s%20Projets/pressing/frontend/src/app/components/PageTransition.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Loader from './Loader';\n\nexport default function PageTransition({ children }) {\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Simuler un temps de chargement minimum pour voir le loader\n    const timer = setTimeout(() => {\n      setLoading(false);\n    }, 1500); // 1.5 secondes de chargement minimum\n    \n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <>\n      {loading ? <Loader /> : children}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,eAAe,EAAE,QAAQ,EAAE;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,6DAA6D;QAC7D,MAAM,QAAQ,WAAW;YACvB,WAAW;QACb,GAAG,OAAO,qCAAqC;QAE/C,OAAO,IAAM,aAAa;IAC5B,GAAG,EAAE;IAEL,qBACE;kBACG,wBAAU,8OAAC,mIAAA,CAAA,UAAM;;;;mBAAM;;AAG9B","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///home/depayyy/Aboh%27s%20Projets/pressing/frontend/src/app/context/AuthContext.js"],"sourcesContent":["\"use client\";\n\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { toast } from \"react-hot-toast\";\nimport axios from \"axios\";\n\n// Création du contexte d'authentification\nconst AuthContext = createContext();\n\n// Hook personnalisé pour utiliser le contexte d'authentification\nexport const useAuth = () => useContext(AuthContext);\n\n// Provider d'authentification\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  // Vérifier si l'utilisateur est connecté au chargement de l'application\n  useEffect(() => {\n    // Vérifier si nous sommes dans le navigateur (côté client)\n    if (typeof window !== \"undefined\") {\n      const storedUser = localStorage.getItem(\"user\");\n      const storedToken = localStorage.getItem(\"token\");\n\n      if (storedUser && storedToken) {\n        setUser(JSON.parse(storedUser));\n      }\n      \n      setLoading(false);\n    }\n  }, []);\n\n  // Fonction de connexion\n  const login = async (email, password) => {\n    try {\n      const response = await axios.post(\n        `${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"}/auth/login`,\n        { email, password },\n        { \n          headers: { \"Content-Type\": \"application/json\" }\n        }\n      );\n\n      const data = response.data;\n\n      if (data.success) {\n        localStorage.setItem(\"token\", data.data.token);\n        localStorage.setItem(\n          \"user\",\n          JSON.stringify({\n            id: data.data._id,\n            nom: data.data.nom,\n            prenom: data.data.prenom,\n            email: data.data.email,\n            role: data.data.role,\n          })\n        );\n\n        setUser({\n          id: data.data._id,\n          nom: data.data.nom,\n          prenom: data.data.prenom,\n          email: data.data.email,\n          role: data.data.role,\n        });\n\n        return { success: true };\n      } else {\n        return { success: false, error: data.error || \"Échec de connexion\" };\n      }\n    } catch (error) {\n      console.error(\"Erreur de connexion:\", error);\n      return {\n        success: false,\n        error: \"Erreur lors de la connexion au serveur\",\n      };\n    }\n  };\n\n  // Fonction d'inscription\n  const register = async (userData) => {\n    try {\n      const response = await axios.post(\n        `${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"}/auth/register`,\n        userData,\n        { \n          headers: { \"Content-Type\": \"application/json\" }\n        }\n      );\n\n      const data = response.data;\n\n      if (data.success) {\n        return { success: true };\n      } else {\n        return {\n          success: false,\n          error: data.error || \"Échec de l'inscription\",\n        };\n      }\n    } catch (error) {\n      console.error(\"Erreur d'inscription:\", error);\n      return {\n        success: false,\n        error: \"Erreur lors de la connexion au serveur\",\n      };\n    }\n  };\n\n  // Fonction de déconnexion\n  const logout = async () => {\n    try {\n      // Appel à l'API pour effacer le cookie côté serveur\n      await axios.get(\n        `${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"}/auth/logout`\n      );\n    } catch (error) {\n      console.error(\"Erreur lors de la déconnexion:\", error);\n    } finally {\n      // Nettoyage côté client même si l'API échoue\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      setUser(null);\n      toast.success(\"Vous êtes déconnecté\");\n      router.push(\"/\");\n    }\n  };\n\n  // Vérifier si l'utilisateur est authentifié\n  const isAuthenticated = () => {\n    return !!user;\n  };\n\n  const value = {\n    user,\n    login,\n    register,\n    logout,\n    isAuthenticated,\n    loading,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///home/depayyy/Aboh%27s%20Projets/pressing/frontend/src/app/components/RouteGuard.jsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useAuth } from '../context/AuthContext';\n\n/**\n * Composant pour protéger les routes spécifiques qui nécessitent une authentification\n * UNIQUEMENT les routes \"/orders\" et \"/profile\" sont protégées conformément aux exigences\n * Les routes \"/services\", \"/dashboard\" et \"/reservation\" sont accessibles sans authentification\n */\nexport default function RouteGuard({ children }) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const { isAuthenticated, loading } = useAuth();\n  const [isChecking, setIsChecking] = useState(true);\n  \n  // Liste des routes protégées qui nécessitent une authentification\n  // Selon la demande du client, UNIQUEMENT les routes \"/orders\" et \"/profile\" doivent être protégées\n  // Les routes \"/services\", \"/dashboard\" et \"/reservation\" sont accessibles sans authentification\n  const protectedPaths = [\n    '/orders',\n    '/profile'\n  ];\n  \n  // Vérifie si le chemin actuel est une route protégée\n  const isProtectedRoute = () => {\n    return protectedPaths.some(path => pathname?.startsWith(path));\n  };\n\n  useEffect(() => {\n    // Si on est toujours en train de charger l'état d'authentification, on ne fait rien\n    if (loading) return;\n    \n    // Vérifie si on est sur une route protégée\n    const isProtected = isProtectedRoute();\n    \n    // Si c'est une route protégée et que l'utilisateur n'est pas authentifié\n    if (isProtected && !isAuthenticated) {\n      // Vérifie qu'on n'est pas déjà sur la page de login pour éviter les redirections en boucle\n      if (!pathname?.startsWith('/auth/login')) {\n        // Redirection vers la page de connexion avec le chemin actuel comme redirection\n        router.push(`/auth/login?redirect=${encodeURIComponent(pathname || '/')}`);\n        return; // Stop l'exécution\n      }\n    }\n    \n    // Si tout est OK, on indique que la vérification est terminée\n    setIsChecking(false);\n  }, [isAuthenticated, loading, pathname, router]);\n\n  // Afficher un indicateur de chargement pendant la vérification\n  if ((loading || isChecking) && isProtectedRoute()) {\n    return (\n      <div className=\"flex h-screen w-full items-center justify-center bg-green-50\">\n        <div className=\"flex flex-col items-center space-y-4\">\n          <div className=\"h-16 w-16 animate-spin rounded-full border-b-2 border-t-2 border-green-600\"></div>\n          <p className=\"text-lg font-medium text-green-800\">Chargement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Si ce n'est pas une route protégée ou si l'utilisateur est authentifié, afficher le contenu\n  return children;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,UAAO,AAAD;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,kEAAkE;IAClE,mGAAmG;IACnG,gGAAgG;IAChG,MAAM,iBAAiB;QACrB;QACA;KACD;IAED,qDAAqD;IACrD,MAAM,mBAAmB;QACvB,OAAO,eAAe,IAAI,CAAC,CAAA,OAAQ,UAAU,WAAW;IAC1D;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,oFAAoF;QACpF,IAAI,SAAS;QAEb,2CAA2C;QAC3C,MAAM,cAAc;QAEpB,yEAAyE;QACzE,IAAI,eAAe,CAAC,iBAAiB;YACnC,2FAA2F;YAC3F,IAAI,CAAC,UAAU,WAAW,gBAAgB;gBACxC,gFAAgF;gBAChF,OAAO,IAAI,CAAC,CAAC,qBAAqB,EAAE,mBAAmB,YAAY,MAAM;gBACzE,QAAQ,mBAAmB;YAC7B;QACF;QAEA,8DAA8D;QAC9D,cAAc;IAChB,GAAG;QAAC;QAAiB;QAAS;QAAU;KAAO;IAE/C,+DAA+D;IAC/D,IAAI,CAAC,WAAW,UAAU,KAAK,oBAAoB;QACjD,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;;;;;;IAI1D;IAEA,8FAA8F;IAC9F,OAAO;AACT","debugId":null}}]
}